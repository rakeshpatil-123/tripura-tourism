<!-- registration.component.html -->
<div class="registration-container">
  <div class="registration-wrapper">
    <div class="registration-header">
      <div class="logo">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="#2196f3"
          width="32"
          height="32"
        >
          <path
            d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"
          ></path>
        </svg>
        <span class="logo-text">Swaagat</span>
      </div>
      <h1 class="main-title">Enterprise Registration</h1>
      <p class="subtitle">Register your organization to get started</p>
    </div>

    <mat-card class="registration-card">
      <mat-card-content>
        <form
          [formGroup]="registrationForm"
          (ngSubmit)="onSubmit()"
          class="registration-form"
        >
          <!-- Enterprise Information -->
          <div class="form-section">
            <div class="section-header">
              <div class="section-icon">
                <mat-icon>business</mat-icon>
              </div>
              <h2 class="section-title">Enterprise Information</h2>
            </div>

            <div class="form-grid">
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Enterprise Name</mat-label>
                <input
                  matInput
                  formControlName="name_of_enterprise"
                  placeholder="Enter enterprise name"
                />
                <mat-error
                  *ngIf="
                    registrationForm.get('name_of_enterprise')?.invalid &&
                    registrationForm.get('name_of_enterprise')?.touched
                  "
                >
                  {{ getErrorMessage("name_of_enterprise") }}
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Authorized Person</mat-label>
                <input
                  matInput
                  formControlName="authorized_person_name"
                  placeholder="Enter authorized person name"
                />
                <mat-error
                  *ngIf="
                    registrationForm.get('authorized_person_name')?.invalid &&
                    registrationForm.get('authorized_person_name')?.touched
                  "
                >
                  {{ getErrorMessage("authorized_person_name") }}
                </mat-error>
              </mat-form-field>
            </div>
          </div>

          <!-- Contact Information -->
          <div class="form-section">
            <div class="section-header">
              <div class="section-icon">
                <mat-icon>contact_mail</mat-icon>
              </div>
              <h2 class="section-title">Contact Information</h2>
            </div>

            <div class="form-grid">
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Email Address</mat-label>
                <input
                  matInput
                  formControlName="email_id"
                  type="email"
                  placeholder="Enter email address"
                />
                <mat-error
                  *ngIf="
                    registrationForm.get('email_id')?.invalid &&
                    registrationForm.get('email_id')?.touched
                  "
                >
                  {{ getErrorMessage("email_id") }}
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Mobile Number</mat-label>
                <input
                  matInput
                  formControlName="mobile_no"
                  type="tel"
                  placeholder="Enter 10-digit mobile number"
                />
                <mat-error
                  *ngIf="
                    registrationForm.get('mobile_no')?.invalid &&
                    registrationForm.get('mobile_no')?.touched
                  "
                >
                  {{ getErrorMessage("mobile_no") }}
                </mat-error>
              </mat-form-field>
            </div>
          </div>

          <!-- Login Credentials -->
          <div class="form-section">
            <div class="section-header">
              <div class="section-icon">
                <mat-icon>lock</mat-icon>
              </div>
              <h2 class="section-title">Login Credentials</h2>
            </div>

            <div class="form-grid">
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Username</mat-label>
                <input
                  matInput
                  formControlName="user_name"
                  placeholder="Enter username"
                />
                <mat-error
                  *ngIf="
                    registrationForm.get('user_name')?.invalid &&
                    registrationForm.get('user_name')?.touched
                  "
                >
                  {{ getErrorMessage("user_name") }}
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Password</mat-label>
                <input
                  matInput
                  [type]="hidePassword ? 'password' : 'text'"
                  formControlName="password"
                  placeholder="Enter password"
                />
                <button
                  mat-icon-button
                  matSuffix
                  (click)="togglePasswordVisibility()"
                  type="button"
                  class="password-toggle"
                >
                  <mat-icon>{{
                    hidePassword ? "visibility_off" : "visibility"
                  }}</mat-icon>
                </button>
                <mat-error
                  *ngIf="
                    registrationForm.get('password')?.invalid &&
                    registrationForm.get('password')?.touched
                  "
                >
                  {{ getErrorMessage("password") }}
                </mat-error>
              </mat-form-field>
            </div>
          </div>

          <!-- Address Information -->
          <div class="form-section">
            <div class="section-header">
              <div class="section-icon">
                <mat-icon>location_on</mat-icon>
              </div>
              <h2 class="section-title">Address Information</h2>
            </div>

            <mat-form-field appearance="outline" class="form-field full-width">
              <mat-label>Registered Enterprise Address</mat-label>
              <textarea
                matInput
                formControlName="registered_enterprise_address"
                placeholder="Enter full address"
                rows="3"
              ></textarea>
              <mat-error
                *ngIf="
                  registrationForm.get('registered_enterprise_address')
                    ?.invalid &&
                  registrationForm.get('registered_enterprise_address')?.touched
                "
              >
                {{ getErrorMessage("registered_enterprise_address") }}
              </mat-error>
            </mat-form-field>

            <div class="form-grid">
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>City</mat-label>
                <input
                  matInput
                  formControlName="registered_enterprise_city"
                  placeholder="Enter city"
                />
                <mat-error
                  *ngIf="
                    registrationForm.get('registered_enterprise_city')
                      ?.invalid &&
                    registrationForm.get('registered_enterprise_city')?.touched
                  "
                >
                  {{ getErrorMessage("registered_enterprise_city") }}
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="form-field">
                <mat-label>State</mat-label>
                <mat-select formControlName="state" placeholder="Select state">
                  <mat-option *ngFor="let state of states" [value]="state">
                    {{ state }}
                  </mat-option>
                </mat-select>
                <mat-error
                  *ngIf="
                    registrationForm.get('state')?.invalid &&
                    registrationForm.get('state')?.touched
                  "
                >
                  State is required
                </mat-error>
              </mat-form-field>
            </div>
          </div>

          <!-- User Type -->
          <div class="form-section">
            <div class="section-header">
              <div class="section-icon">
                <mat-icon>person</mat-icon>
              </div>
              <h2 class="section-title">User Type</h2>
            </div>

            <mat-form-field appearance="outline" class="form-field full-width">
              <mat-label>User Type</mat-label>
              <mat-select formControlName="user_type">
                <mat-option *ngFor="let type of userTypes" [value]="type">
                  {{ type.charAt(0).toUpperCase() + type.slice(1) }}
                </mat-option>
              </mat-select>
              <mat-error
                *ngIf="
                  registrationForm.get('user_type')?.invalid &&
                  registrationForm.get('user_type')?.touched
                "
              >
                User type is required
              </mat-error>
            </mat-form-field>
          </div>

          <!-- Submit Button -->
          <div class="button-container">
            <button
              mat-raised-button
              color="primary"
              type="submit"
              [disabled]="isSubmitting || !registrationForm.valid"
              class="submit-button"
            >
              <mat-spinner
                *ngIf="isSubmitting"
                diameter="20"
                class="spinner"
              ></mat-spinner>
              <span *ngIf="!isSubmitting">Register Enterprise</span>
              <span *ngIf="isSubmitting">Registering...</span>
            </button>

            <div class="terms">
              <p>
                By registering, you agree to our
                <a href="#">Terms of Service</a> and
                <a href="#">Privacy Policy</a>
              </p>
            </div>
          </div>
        </form>
      </mat-card-content>
    </mat-card>

    <div class="login-link">
      <p>
        Already have an account? <a href="#" class="login-button">Sign In</a>
      </p>
    </div>
  </div>
</div>
