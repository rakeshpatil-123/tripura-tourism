<!-- all-payments.component.html -->
<div class="payments-container">
  <!-- <h1 class="page-head mb-4 " >Payments</h1> -->
  <div class="section">
    <h2 class="section-title">Payments Pending (UNPAID)</h2>

 <div class="table-wrapper">
    <table class="payment-table">
      <thead>
        <tr>
          <th><input type="checkbox" [checked]="isAllSelected()" (change)="toggleAllSelection()"></th>
          <th>SL No</th>
          <th>Service Name</th>
          <th>Application ID</th>
          <th>Application Date</th>
          <th>Payment Type<br>(Application Fee Payment/Extra Payment Raised)</th>
          <th>Status</th>
          <th>Amount</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let payment of paginatedPendingPayments">
          <td>
            <input type="checkbox"
              [checked]="isSelected(payment.id)"
              (change)="toggleSelection(payment.id)">
          </td>
          <td>{{ payment.slNo }}</td>
          <td>{{ payment.serviceName }}</td>
          <td>{{ payment.applicationId }}</td>
          <td>{{ payment.applicationDate }}</td>
          <td>{{ payment.paymentType }}</td>
          <td>{{ payment.status }}</td>
          <td>₹{{ payment.amount }}</td>
        </tr>
        <tr *ngIf="paginatedPendingPayments.length === 0">
          <td colspan="8" class="no-data">No pending payments found.</td>
        </tr>
      </tbody>
    </table>
  </div>

 <!-- Pagination for Pending -->
<div class="pagination-footer">
  <div class="pagination-controls">
    <div class="page-size-selector">
      <label>Show:</label>
      <select [value]="itemsPerPagePending" (change)="onPageSizeChangePending($event)">
        <option *ngFor="let size of pageSizes" [value]="size">{{ size }}</option>
      </select>
      <span>per page</span>
    </div>
  </div>
  <div class="pagination-info">
    Page {{ currentPagePending }} of {{ totalPagesPending }}
  </div>
  <div class="pagination-controls">
    <button
      class="pagination-btn"
      [disabled]="currentPagePending === 1"
      (click)="prevPagePending()">
      &laquo; Previous
    </button>
    <button
      class="pagination-btn"
      [disabled]="currentPagePending === totalPagesPending"
      (click)="nextPagePending()">
      Next &raquo;
    </button>
  </div>
</div>
    <div class="footer-bar">
      <div class="total-amount">
        <strong>Total Amount Selected for Payment:</strong> ₹{{ totalSelectedAmount }}
      </div>
      <button
        class="pay-now-btn"
        [disabled]="selectedPayments.size === 0"
        (click)="payNow()">
        Pay Now
      </button>
    </div>
  </div>

 <div class="section">
    <h2 class="section-title">Payments Completed (PAID)</h2>

    <div class="table-wrapper">
      <table class="payment-table">
        <thead>
          <tr>
            <th>SL No</th>
            <th>Service Name</th>
            <th>Application ID</th>
            <th>Payment Date</th>
            <th>Status</th>
            <th>Payment Type<br>(Application Fee Payment/Extra Payment Raised)</th>
            <th>GRN Number</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let payment of paginatedCompletedPayments">
            <td>{{ payment.slNo }}</td>
            <td>{{ payment.serviceName }}</td>
            <td>{{ payment.applicationId }}</td>
            <td>-</td>
            <td>{{ payment.status }}</td>
            <td>{{ payment.paymentType }}</td>
            <td>{{ payment.grnNumber }}</td>
            <td>₹{{ payment.amount }}</td>
          </tr>
          <tr *ngIf="paginatedCompletedPayments.length === 0">
            <td colspan="8" class="no-data">No completed payments found.</td>
          </tr>
        </tbody>
      </table>
    </div>

  <!-- Pagination for Completed -->
<div class="pagination-footer">
  <div class="pagination-controls">
    <div class="page-size-selector">
      <label>Show:</label>
      <select [value]="itemsPerPageCompleted" (change)="onPageSizeChangeCompleted($event)">
        <option *ngFor="let size of pageSizes" [value]="size">{{ size }}</option>
      </select>
      <span>per page</span>
    </div>
  </div>
  <div class="pagination-info">
    Page {{ currentPageCompleted }} of {{ totalPagesCompleted }}
  </div>
  <div class="pagination-controls">
    <button
      class="pagination-btn"
      [disabled]="currentPageCompleted === 1"
      (click)="prevPageCompleted()">
      &laquo; Previous
    </button>
    <button
      class="pagination-btn"
      [disabled]="currentPageCompleted === totalPagesCompleted"
      (click)="nextPageCompleted()">
      Next &raquo;
    </button>
  </div>
</div>
  </div>
</div>