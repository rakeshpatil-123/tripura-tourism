<header class="brand-header" role="banner" aria-label="Tripura Tourism header">
  <div class="brand-inner">
    <!-- Left: Logo + Title -->
    <div class="left-block" aria-hidden="false">
      <a class="logo-link" [routerLink]="['/']" title="Tripura Tourism - Home">
        <img src="/assets/logo/tripuratourismlogo.png" alt="Tripura Tourism Logo" class="logo" />
      </a>

      <div class="title-wrap">
        <div class="site-name-anim">
          <a [routerLink]="['/']" class="site-name" title="Tripura Tourism Home">Tripura Tourism</a>
        </div>
        <div class="site-tagline" aria-hidden="true">tripura, where culture meets nature</div>
      </div>
    </div>

    <!-- Right: actions -->
    <div class="action-section" role="navigation" aria-label="Header actions">
      <div class="accessibility-bar" role="group" aria-label="Accessibility tools">
        <!-- SCREEN READER BUTTON (was a span; now a proper button) -->
        <button
          class="sr-access"
          type="button"
          aria-haspopup="dialog"
          aria-controls="srDialog"
          aria-expanded="{{ dialogOpen }}"
          (click)="openSrDialog()">
          Screen Reader Access
        </button>
        <div class="read-controls" role="group" aria-label="Read page controls">
  <button
    type="button"
    class="font-btn"
    (click)="readPageContent()"
    [disabled]="reading"
    aria-pressed="{{ reading }}">
    Read page
  </button>

  <button
    type="button"
    class="font-btn"
    (click)="stopReading()"
    [disabled]="!reading">
    Stop
  </button>

  <label class="tts-toggle">
    <input type="checkbox" [checked]="useBrowserTTS" (change)="useBrowserTTS = !useBrowserTTS" />
    Browser voice
  </label>
</div>
        <span class="divider">|</span>

        <a href="tel:03812325930" class="helpline" aria-label="Helpline number">
          0381&nbsp;232&nbsp;5930
        </a>

        <span class="divider">|</span>

        <div class="font-controls" role="group" aria-label="Font size controls">
          <button
            type="button"
            class="font-btn"
            (click)="increaseFont()"
            [attr.aria-pressed]="fontSize === 'large'">
            A+
          </button>

          <button
            type="button"
            class="font-btn"
            (click)="resetFont()"
            [class.active]="fontSize === 'normal'"
            [attr.aria-pressed]="fontSize === 'normal'">
            A
          </button>

          <button
            type="button"
            class="font-btn"
            (click)="decreaseFont()"
            [attr.aria-pressed]="fontSize === 'small'">
            A-
          </button>
        </div>
      </div>

      <!-- LOGIN / REGISTER (unchanged) -->
      <ng-container *ngIf="!isLoggedIn">
        <button class="action-btn secondary login-btn" aria-label="Login" (click)="navigateToLogin()">
          ... <!-- icon + text omitted for brevity -->
          <span>Login</span>
        </button>

        <button class="action-btn register-btn" aria-label="Register" (click)="navigateToRegister()">
          ... <!-- icon + text omitted for brevity -->
          <span>Register</span>
        </button>
      </ng-container>

      <!-- LOGGED IN --> 
      <ng-container *ngIf="isLoggedIn">
        <a class="action-btn secondary" [routerLink]="['/dashboard/home']" aria-label="Dashboard">
          <span>Dashboard</span>
        </a>

        <button class="action-btn primary logout-btn" aria-label="Logout" (click)="logout()">
          <span>Logout</span>
        </button>
      </ng-container>

      <!-- Google Translate placeholder -->
      <div id="google_translate_element" class="translate-box" aria-hidden="false"></div>
    </div>
  </div>

  <!-- Screen Reader / Accessibility Dialog -->
  <div
    #srDialog
    id="srDialog"
    class="sr-dialog-overlay"
    *ngIf="dialogOpen"
    role="dialog"
    aria-modal="true"
    aria-labelledby="srTitle"
    aria-describedby="srDesc">
    <div class="sr-dialog" role="document">
      <h2 id="srTitle">Accessibility tools</h2>
      <p id="srDesc">Quick tools for screen reader users and font controls.</p>

      <div class="sr-dialog-actions">
        <button type="button" (click)="skipToMainContent()">Skip to main content</button>
        <button type="button" (click)="enableScreenReaderMode()">Enable screen reader mode</button>
        <button type="button" (click)="closeSrDialog()">Close</button>
      </div>
    </div>
  </div>

  <!-- aria-live region to announce changes for screen readers -->
  <div class="visually-hidden" aria-live="polite" aria-atomic="true">{{ liveMessage }}</div>
</header>
