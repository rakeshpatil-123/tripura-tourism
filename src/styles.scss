@use '@angular/material' as mat;

  @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&display=swap');
@import url('https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.css');
:root {
  @include mat.datepicker-overrides((
    calendar-body-label-text-color: var(--color-warning),
    calendar-container-background-color: var(--color-brand-dark),
  ));
  /* Base Colors */
  --color-primary-bg: hsl(0, 0%, 100%); // #ffffff - Main white background
  --color-card-bg: hsl(0, 0%, 100%); // #ffffff - Card background
  --color-surface: hsl(0, 0%, 98%); // #fafafa - Light surface for subtle sections

  /* Brand & Accent Colors (Deep Red Theme) */
  --color-brand-primary: hsl(348, 99%, 33%); // Deep red for primary actions
  --color-brand-secondary: hsl(348, 85%, 45%); // Medium red for secondary elements
  --color-brand-accent: hsl(348, 100%, 40%); // Vibrant red for highlights
  --color-brand-light: hsl(348, 100%, 95%); // Very light pink for hover states
  --color-brand-dark: hsl(348, 99%, 25%); // Darker red for pressed states

  /* Complementary Colors (Teal accents) */
  --color-complementary-primary: hsl(168, 99%, 33%); // Complementary teal-green
  --color-complementary-secondary: hsl(168, 85%, 45%); // Medium teal
  --color-complementary-light: hsl(168, 100%, 95%); // Light teal background

  /* Semantic Colors */
  --color-success: hsl(142, 76%, 45%); // Green for success states
  --color-warning: hsl(45, 100%, 55%); // Amber for warnings
  --color-error: hsl(348, 99%, 33%); // Using brand red for errors
  --color-info: hsl(200, 100%, 50%); // Cyan for information

  /* Text Colors */
  --color-text-primary: hsl(0, 0%, 13%); // Near black for main text
  --color-text-secondary: hsl(0, 0%, 40%); // Medium gray for secondary text
  --color-text-muted: hsl(0, 0%, 60%); // Light gray for muted text
  --color-text-inverse: hsl(0, 0%, 100%); // White text for dark backgrounds
  --color-text-link: hsl(348, 99%, 33%); // Red for links
  --color-text-link-hover: hsl(348, 99%, 25%); // Darker red for link hover

  /* Button Colors */
  /* Primary Button (Red) */
  --color-btn-primary-bg: hsl(348, 99%, 33%);
  --color-btn-primary-hover: hsl(348, 99%, 25%);
  --color-btn-primary-active: hsl(348, 99%, 20%);
  --color-btn-primary-text: hsl(0, 0%, 100%);

  /* Secondary Button (White with Red border) */
  --color-btn-secondary-bg: hsl(0, 0%, 100%);
  --color-btn-secondary-hover: hsl(348, 100%, 98%);
  --color-btn-secondary-active: hsl(348, 100%, 95%);
  --color-btn-secondary-text: hsl(348, 99%, 33%);
  --color-btn-secondary-border: hsl(348, 99%, 33%);

  /* Outline Button */
  --color-btn-outline-bg: transparent;
  --color-btn-outline-hover: hsl(348, 100%, 98%);
  --color-btn-outline-active: hsl(348, 100%, 95%);
  --color-btn-outline-text: hsl(348, 99%, 33%);
  --color-btn-outline-border: hsl(348, 99%, 33%);

  /* Ghost Button */
  --color-btn-ghost-bg: transparent;
  --color-btn-ghost-hover: hsl(348, 100%, 98%);
  --color-btn-ghost-active: hsl(348, 100%, 95%);
  --color-btn-ghost-text: hsl(348, 99%, 33%);

  /* Danger Button (Same as primary for consistency) */
  --color-btn-danger-bg: hsl(348, 99%, 33%);
  --color-btn-danger-hover: hsl(348, 99%, 25%);
  --color-btn-danger-active: hsl(348, 99%, 20%);
  --color-btn-danger-text: hsl(0, 0%, 100%);

  /* Border Colors */
  --color-border-light: hsl(0, 0%, 90%); // Light gray borders
  --color-border-medium: hsl(0, 0%, 80%); // Medium gray borders
  --color-border-dark: hsl(0, 0%, 70%); // Dark gray borders
  --color-border-focus: hsl(348, 99%, 33%); // Red focus ring color

  /* Form Colors */
  --color-form-input-bg: hsl(0, 0%, 100%);
  --color-form-input-border: hsl(0, 0%, 85%);
  --color-form-input-border-hover: hsl(0, 0%, 75%);
  --color-form-input-border-focus: hsl(348, 99%, 33%);
  --color-form-input-text: hsl(0, 0%, 13%);
  --color-form-input-placeholder: hsl(0, 0%, 60%);

  /* Form Validation States */
  --color-form-input-success: hsl(142, 76%, 45%);
  --color-form-input-warning: hsl(45, 100%, 55%);
  --color-form-input-error: hsl(348, 99%, 33%);

  /* Navigation Colors */
  --color-nav-bg: hsl(0, 0%, 100%);
  --color-nav-border: hsl(0, 0%, 90%);
  --color-nav-link-text: hsl(0, 0%, 40%);
  --color-nav-link-hover: hsl(348, 99%, 33%);
  --color-nav-link-active: hsl(348, 99%, 33%);
  --color-nav-link-active-bg: hsl(348, 100%, 97%);

  /* Table Colors */
  --color-table-header-bg: hsl(0, 0%, 98%);
  --color-table-header-text: hsl(0, 0%, 13%);
  --color-table-row-even: hsl(0, 0%, 100%);
  --color-table-row-odd: hsl(0, 0%, 99%);
  --color-table-row-hover: hsl(348, 100%, 98%);
  --color-table-border: hsl(0, 0%, 90%);

  /* Status Colors */
  --color-status-online: hsl(142, 76%, 45%);
  --color-status-pending: hsl(45, 100%, 55%);
  --color-status-offline: hsl(0, 0%, 60%);
  --color-status-draft: hsl(348, 99%, 33%);

  /* Shadow Colors */
  --shadow-light: hsla(0, 0%, 0%, 0.05);
  --shadow-medium: hsla(0, 0%, 0%, 0.1);
  --shadow-dark: hsla(0, 0%, 0%, 0.15);
  --shadow-focus: hsla(348, 99%, 33%, 0.25);

  /* Overlay Colors */
  --color-overlay-light: hsla(0, 0%, 0%, 0.3);
  --color-overlay-medium: hsla(0, 0%, 0%, 0.5);
  --color-overlay-dark: hsla(0, 0%, 0%, 0.7);

  /* Notification Colors */
  --color-notification-success-bg: hsl(142, 76%, 95%);
  --color-notification-success-border: hsl(142, 76%, 45%);
  --color-notification-success-text: hsl(142, 76%, 30%);

  --color-notification-warning-bg: hsl(45, 100%, 95%);
  --color-notification-warning-border: hsl(45, 100%, 55%);
  --color-notification-warning-text: hsl(45, 100%, 35%);

  --color-notification-error-bg: hsl(348, 100%, 95%);
  --color-notification-error-border: hsl(348, 99%, 33%);
  --color-notification-error-text: hsl(348, 99%, 25%);

  --color-notification-info-bg: hsl(200, 100%, 95%);
  --color-notification-info-border: hsl(200, 100%, 50%);
  --color-notification-info-text: hsl(200, 100%, 35%);

  /* Utility Colors */
  --color-utility-disabled: hsl(0, 0%, 85%);
  --color-utility-disabled-text: hsl(0, 0%, 60%);
  --color-utility-backdrop: hsla(0, 0%, 0%, 0.4);
  --color-utility-selection: hsla(348, 99%, 33%, 0.2);

  /* Additional Red Theme Variants */
  --color-red-50: hsl(348, 100%, 97%);
  --color-red-100: hsl(348, 100%, 95%);
  --color-red-200: hsl(348, 96%, 89%);
  --color-red-300: hsl(348, 94%, 80%);
  --color-red-400: hsl(348, 91%, 69%);
  --color-red-500: hsl(348, 85%, 55%);
  --color-red-600: hsl(348, 99%, 33%); // Your main color
  --color-red-700: hsl(348, 99%, 25%);
  --color-red-800: hsl(348, 99%, 20%);
  --color-red-900: hsl(348, 99%, 15%);

  /* Gray Scale */
  --color-gray-50: hsl(0, 0%, 98%);
  --color-gray-100: hsl(0, 0%, 95%);
  --color-gray-200: hsl(0, 0%, 90%);
  --color-gray-300: hsl(0, 0%, 80%);
  --color-gray-400: hsl(0, 0%, 70%);
  --color-gray-500: hsl(0, 0%, 60%);
  --color-gray-600: hsl(0, 0%, 40%);
  --color-gray-700: hsl(0, 0%, 30%);
  --color-gray-800: hsl(0, 0%, 20%);
  --color-gray-900: hsl(0, 0%, 13%);
}
.row {
  display: flex;
  // REMOVE flex-wrap: nowrap; here if you want content to wrap.
  // If the intent is a purely horizontal layout for the sidebar and main content,
  // then the issue is how widths are calculated, not wrapping.
  // Given the mobile issue, removing or modifying this is key.
  flex-wrap: wrap; // CHANGE: Allow content to wrap if needed, especially on smaller screens.
  margin: 0;
}

.sidebar-container {
  width: 250px;
  background-color: var(--color-brand-primary);
  transition: width 0.3s ease; /* Animation for width change */
  height: 100vh;
  position: fixed; /* Prevents occupying row space on desktop */
  top: 0;
  left: 0;
  z-index: 1000;
  overflow-y: auto;
}

.sidebar-container.active {
  width: 60px; /* Collapsed state */
  background-color: var(--color-brand-primary);
}

.main-container {
  margin-left: 250px; /* Matches open sidebar width for desktop */
  width: calc(100% - 250px); /* Desktop calculation */
  transition: all 0.3s ease; /* Animation for margin and width */
  padding: 10px;
  background-color: var(--color-primary-bg);
  color: var(--color-text-primary);
}

.main-container.active {
  margin-left: 60px; /* Matches collapsed sidebar for desktop */
  width: calc(100% - 60px); /* Desktop calculation */
}

// ... other styles (menu-toggle-height, etc.)

/* REMOVE OR COMMENT OUT THIS "Old style" block entirely. It's conflicting. */
/* ***************** Side Menu Starts********************* */
/*
.sidebar-container {
  width: 5%;
  transition: 0.5s;
  background-color: var(--color-brand-primary);
  min-height: 477px;
}

.sidebar-container.active {
  width: 17%;
  transition: 0.5s;
  background-color: var(--color-brand-primary);
}

// Hide and show nav labels/icons
.sidebar-container .sidebar li a .nav-label,
.sidebar-container .sidebar li a .nav-label-sub,
.sidebar-container.active .sidebar li a i {
  display: none !important;
}

.sidebar-container.active .sidebar li a .nav-label,
.sidebar-container.active .sidebar li a .nav-label-sub,
.sidebar-container .sidebar li a i {
  display: inline-block !important;
}

.main-container {
  width: 83%;
  transition: 0.5s;
  background-color: var(--color-primary-bg);
  color: var(--color-text-primary);
}

.main-container.active {
  width: 95%;
  transition: 0.5s;
  background-color: var(--color-primary-bg);
  color: var(--color-text-primary);
}

// ... rest of old styles
*/


@media (max-width: 768px) {
  .sidebar-container {
    // These values from page-content-with-menu.scss are better for mobile
    position: fixed;
    top: 0;
    left: -250px; /* Hidden initially */
    height: 100vh;
    z-index: 1050;
    background-color: var(--color-primary-bg);
    box-shadow: 2px 0 5px rgba(0,0,0,0.2);
    width: 250px; /* Full width when open */
    transition: left 0.3s ease; // Transition for sliding
    // Ensure overflow-x: hidden is applied if not already on body/html
    overflow-x: hidden; // Prevents horizontal scroll from sidebar itself
  }

  .sidebar-container.active {
    left: 0; /* Slide in when active */
  }

  .main-container {
    width: 100%; /* Main content always takes full width on mobile */
    margin-left: 0; /* No margin from sidebar on mobile - crucial for off-canvas */
    transition: margin 0.3s ease, width 0.3s ease; // Keep transition for smoother feel
    padding-top: 70px; /* Example: To prevent content from going under a fixed header */
  }

  .main-container.active {
    // On mobile, the main-container *does not* change its margin-left or width
    // when the sidebar opens. The sidebar overlays it.
    // So, remove or comment out these lines for mobile.
    /* margin-left: 200px; */
    /* width: calc(100% - 200px); */
  }

  // Ensure this is properly placed in your main layout or header
  .menu-toggle-control {
    display: block; // Make sure it's visible to toggle the menu
    position: fixed; // Fixed position for easy access
    top: 10px;
    left: 10px;
    z-index: 1100;
    background-color: var(--color-brand-primary);
    padding: 8px;
    border-radius: 5px;
    color: var(--color-text-inverse); // Ensure it's visible
  }

  // Overlay when sidebar is open
  body.menu-open::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* Dark overlay */
    z-index: 1040; /* Below sidebar, above content */
  }

  // To prevent horizontal scrolling when the sidebar is open on mobile
  body.menu-open {
    overflow-x: hidden;
  }
}